{% load static %}  <!-- Add this line to load static files -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placement Records</title>
    <style>
        /* Existing styles */
        .container {
            max-width: 90%;
        }
        .content {
            text-align: center;
            position: absolute;
            bottom: 0px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            height: 30px;
            width: 91%;
        }
        .chatbot-card {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        #botheader {
            background-color: #007bff;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #message-section {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            background-color: #f8f9fa;
        }
        .message {
            margin: 5px 0;
        }
        .user-message {
            text-align: right;
            color: blue;
        }
        .quickbtns {
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .quickmessage {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin: 2px;
        }
        #input-section {
            display: flex;
            padding: 10px;
        }
        #user-input {
            flex: 1;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        .send {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 5px;
        }
        .close {
            background-color: transparent;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.5rem;
            margin-left: 10px;
        }
    </style>
</head>
<body>

    {% include 'navigation.html' %}

    <div class="container-fluid" style="margin-top: 1%">
        <img src="{% static 'dreamjob1.jpg' %}" style="height: 500px; width: 100%">
    </div>

    <div class="container" style="background-color: rgb(20, 22, 24); height: 600px; margin-top: 1%">
        <h1 class="text-center text-white">----------|  OUR PLACEMENT RECORDS  |----------</h1>

        <div class="row mt-3">
            <div class="col-md-3">
                <img src="{% static 'atharva.jpg' %}" style="width:100%; margin-top:5%; height:250px; border-radius: 30%;">
                <div class="content">
                    <p>StreamSets (25 LPA)</p>
                </div>
            </div>
            <div class="col-md-3">
                <img src="{% static 'neha.jpg' %}" style="width:100%; margin-top:5%; height:250px; border-radius: 50%;">
                <div class="content">
                    <p>Goldman Sachs (20 LPA)</p>
                </div>
            </div>
            <div class="col-md-3">
                <img src="{% static 'sharayu.jpg' %}" style="width:100%; margin-top:5%; height:250px; border-radius: 50%;">
                <div class="content">
                    <p>Decision Culture (13 LPA)</p>
                </div>
            </div>
            <div class="col-md-3">
                <img src="{% static 'avdhoot.jpg' %}" style="width:100%; margin-top:5%; height:250px; border-radius: 50%;">
                <div class="content">
                    <p>L & T Infotech (10 LPA)</p>
                </div>
            </div>
            <div class="col-md-3">
                <img src="{% static 'kalpana.jpg' %}" style="width:100%; margin-top:5%; height:250px; border-radius: 50%;">
                <div class="content">
                    <p>Amazon (7 LPA)</p>
                </div>
            </div>
            <div class="col-md-3">
                <img src="{% static 'chinmay.jpg' %}" style="width:100%; margin-top:5%; height:250px; border-radius: 50%;">
                <div class="content">
                    <p>Kaar Technologies (8 LPA)</p>
                </div>
            </div>
            <div class="col-md-3">
                <img src="{% static 'monish.jpg' %}" style="width:100%; margin-top:5%; height:250px;">
                <div class="content">
                    <p>Airbus Group India (9 LPA)</p>
                </div>
            </div>
            <div class="col-md-3">
                <img src="{% static 'Rishi.JPG' %}" style="width:100%; margin-top:5%; height:250px;">
                <div class="content">
                    <p>Facebook (6.5 LPA)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Job Navigo Button -->
    <button id="job-navigo-button" class="send" onclick="toggleChatbot()" style="position: fixed; bottom: 80px; right: 20px;">
        Job Navigo
    </button>

    <!-- Chatbot -->
    <div class="chatbot-card" id="chatbot-card" style="display: none;">
        <div id="botheader">
            <h2>JobNavigo!!</h2>
            <button class="send" onclick="resetChat()">
                <div class="circle refresh">
                    <i class="zmdi zmdi-refresh-sync" style="font-size: 1.5rem; margin-left: 0.2rem;"></i>
                </div>
            </button>
            <button class="close" onclick="toggleChatbot()">Ã—</button> <!-- Close Button -->
        </div>
        <div id="message-section">
            <div class="message" id="bot">
                <span id="bot-response">Hello.. I'm listening! How can I assist you today?</span>
            </div>
        </div>
        <div class="quickbtns">
            <button tabindex="1" class="quickmessage" data-message="Report a Bug" onclick="sendQuickMessage(this)">Report a Bug</button>
            <button tabindex="2" class="quickmessage" data-message="Job Opportunities" onclick="sendQuickMessage(this)">Job Opportunities</button>
            <button tabindex="3" class="quickmessage" data-message="Contact Support" onclick="sendQuickMessage(this)">Contact Support</button>
            <button tabindex="4" class="quickmessage" data-message="Job Recommendations" onclick="sendQuickMessage(this)">Job Recommendations</button>
            <button tabindex="5" class="quickmessage" data-message="How to Apply" onclick="sendQuickMessage(this)">How to Apply</button>
        </div>
        <div id="input-section">
            <input id="user-input" type="text" placeholder="Type a message..." autocomplete="on" autofocus="autofocus" tabindex="6" />
            <button type="submit" class="send sendmessage" onclick="sendMessage()" tabindex="7">
                <div class="circle"><i class="zmdi zmdi-mail-send" style="font-size: 1.5rem; margin-left: 0.2rem;"></i></div>
            </button>
        </div>
    </div>

    {% include 'footer.html' %}

    <script src="{% static 'script.js' %}" type="text/javascript"></script>

    <script>
        function resetChat() {
            document.getElementById("message-section").innerHTML = '<div class="message" id="bot">Hello.. I\'m listening! How can I assist you today?</div>';
        }

        function toggleChatbot() {
            const chatbotCard = document.getElementById("chatbot-card");
            if (chatbotCard.style.display === "none") {
                chatbotCard.style.display = "flex"; // or "block"
            } else {
                chatbotCard.style.display = "none";
            }
        }

        function sendQuickMessage(button) {
            const message = button.getAttribute('data-message');
            document.getElementById("user-input").value = message;
            sendMessage();
        }

        function sendMessage() {
            const userInput = document.getElementById("user-input");
            const message = userInput.value.trim();

            if (message === "") return;

            const messageSection = document.getElementById("message-section");
            const userMessageDiv = document.createElement("div");
            userMessageDiv.className = "user-message";
            userMessageDiv.textContent = message;
            messageSection.appendChild(userMessageDiv);

            userInput.value = "";
            messageSection.scrollTop = messageSection.scrollHeight;

            const botResponse = getBotResponse(message);

            setTimeout(() => {
                const botMessageDiv = document.createElement("div");
                botMessageDiv.className = "message";
                botMessageDiv.textContent = botResponse;
                messageSection.appendChild(botMessageDiv);
                messageSection.scrollTop = messageSection.scrollHeight;
            }, 500);
        }

        function getBotResponse(message) {
            switch (message.toLowerCase()) {
                case "report a bug":
                    return "Please describe the bug you're experiencing, and we'll fix it as soon as possible.";
                case "job opportunities":
                    return "We have multiple job opportunities across various domains. Check our Careers page for more details.";
                case "contact support":
                    return "Our support team is here to assist you. Please email us at support@jobnavigo.com or call our helpline.";
                case "job recommendations":
                    return "We recommend jobs based on your profile. Visit our Job Recommendations section for more personalized options.";
                case "how to apply":
                    return "To apply for a job, visit our Jobs page, select the desired job, and follow the instructions to submit your application.";
                default:
                    return "I'm sorry, I didn't understand that. Could you please rephrase?";
            }
        }
    </script>

</body>
</html>
