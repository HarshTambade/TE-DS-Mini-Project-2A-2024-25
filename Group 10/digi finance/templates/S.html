<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digi Finance - Investment Recommendation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='minimalist-stylesS.css') }}">
</head>
<body>
    <header>
        <h1>Digi Finance</h1>
    </header>

    <nav class="dashboard-nav">
        <ul>
            <li><a href="{{ url_for('index') }}">Home</a></li>
            <li>
                <form action="{{ url_for('incexp') }}" method="POST">
                    <button type="submit" class="nav-button">Income Expense</button>
                </form>
            </li>
            <li>
                <form action="{{ url_for('set_budget') }}" method="POST">
                    <button type="submit" class="nav-button">Budget</button>
                </form>
            </li>
            <li>
                <form action="{{ url_for('predict_expenses') }}" method="POST">
                    <button type="submit" class="nav-button">Expense Prediction</button>
                </form>
            </li>
            <li class="dropdown">
                <button>Investment Recommendation â–¼</button>
                <div class="dropdown-content">
                    <form action="{{ url_for('investmentrecommaindation') }}" method="POST">
                        <button type="submit">Investment Overview</button>
                    </form>
                    <form action="{{ url_for('stockrecommendation') }}" method="POST">
                        <button type="submit">Stock Recommendation</button>
                    </form>
                    <form action="{{ url_for('investrec') }}" method="POST">
                        <button type="submit">Investment RecommendationS</button>
                    </form>
                </div>
            </li>
        </ul>
    </nav>

    <div class="container">
        <section class="form-section">
            <h1>Investment Recommendation</h1>
            <p>Get personalized investment recommendations based on your profile.</p>
            <form id="investment-form" action="/shuban" method="post">
                <!-- Form fields for user input -->
                <div class="form-group">
                    <label for="age">Age:</label>
                    <input type="number" id="age" name="age" placeholder="Enter your age" required>
                </div>
                <div class="form-group">
                    <label for="income">Monthly Income:</label>
                    <input type="number" id="income" name="income" placeholder="Enter monthly income" required>
                </div>
                <div class="form-group">
                    <label for="fixed_expenses">Fixed Expenses:</label>
                    <input type="number" id="fixed_expenses" name="fixed_expenses" placeholder="Enter fixed expenses" required>
                </div>
                <div class="form-group">
                    <label for="variable_expenses">Variable Expenses:</label>
                    <input type="number" id="variable_expenses" name="variable_expenses" placeholder="Enter variable expenses" required>
                </div>
                <div class="form-group">
                    <label for="savings_rate">Savings Rate (%):</label>
                    <input type="number" id="savings_rate" name="savings_rate" placeholder="Enter savings rate" required>
                </div>
                <div class="form-group">
                    <label for="disposable_income">Disposable Income:</label>
                    <input type="number" id="disposable_income" name="disposable_income" placeholder="Enter disposable income" required>
                </div>
                <div class="form-group">
                    <label for="total_savings">Total Savings:</label>
                    <input type="number" id="total_savings" name="total_savings" placeholder="Enter total savings" required>
                </div>
                <div class="form-group">
                    <label for="stocks">Stocks (%):</label>
                    <input type="number" id="stocks" name="stocks" placeholder="Enter stock investment percentage" required>
                </div>
                <div class="form-group">
                    <label for="mutual_funds">Mutual Funds (%):</label>
                    <input type="number" id="mutual_funds" name="mutual_funds" placeholder="Enter mutual funds percentage" required>
                </div>
                <div class="form-group">
                    <label for="bonds">Bonds (%):</label>
                    <input type="number" id="bonds" name="bonds" placeholder="Enter bonds percentage" required>
                </div>
                <div class="form-group">
                    <label for="real_estate">Real Estate (%):</label>
                    <input type="number" id="real_estate" name="real_estate" placeholder="Enter real estate percentage" required>
                </div>
                <div class="form-group">
                    <label for="fixed_deposits">Fixed Deposits (%):</label>
                    <input type="number" id="fixed_deposits" name="fixed_deposits" placeholder="Enter fixed deposit percentage" required>
                </div>
                <div class="form-group">
                    <label for="other_investments">Other Investments (%):</label>
                    <input type="number" id="other_investments" name="other_investments" placeholder="Enter other investments percentage" required>
                </div>
                <div class="form-group">
                    <label for="debt">Debt Amount:</label>
                    <input type="number" id="debt" name="debt" placeholder="Enter debt amount" required>
                </div>
                <div class="form-group">
                    <label for="monthly_debt_payment">Monthly Debt Payment:</label>
                    <input type="number" id="monthly_debt_payment" name="monthly_debt_payment" placeholder="Enter monthly debt payment" required>
                </div>
                <div class="form-group">
                    <label for="insurance">Insurance Amount:</label>
                    <input type="number" id="insurance" name="insurance" placeholder="Enter insurance amount" required>
                </div>
                <div class="form-group">
                    <label for="short_term_goals">Short Term Goals (years):</label>
                    <input type="number" id="short_term_goals" name="short_term_goals" placeholder="Enter short term goals in years" required>
                </div>
                <div class="form-group">
                    <label for="medium_term_goals">Medium Term Goals (years):</label>
                    <input type="number" id="medium_term_goals" name="medium_term_goals" placeholder="Enter medium term goals in years" required>
                </div>
                <div class="form-group">
                    <label for="long_term_goals">Long Term Goals (years):</label>
                    <input type="number" id="long_term_goals" name="long_term_goals" placeholder="Enter long term goals in years" required>
                </div>
                <div class="form-group">
                    <label for="risk_tolerance">Risk Tolerance:</label>
                    <select id="risk_tolerance" name="risk_tolerance" required>
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="investment_horizon">Investment Horizon (years):</label>
                    <input type="number" id="investment_horizon" name="investment_horizon" placeholder="Enter investment horizon" required>
                </div>
                <div class="form-group">
                    <label for="transaction_history">Transaction History (yes/no):</label>
                    <input type="number" id="transaction_history" name="transaction_history" placeholder="1 for Yes, 0 for No" required>
                </div>
                <button type="submit">Get Recommendations</button>
            </form>
        </section>

        <section class="result-section">
            <h2>Recommended Investment Strategy</h2>

            <!-- Display the investment strategy in a table -->
            <table>
                <tr>
                    <th>Asset</th>
                    <th>Allocation (%)</th>
                </tr>
                {% for asset, allocation in strategy['allocations'].items() %}
                <tr>
                    <td>{{ asset }}</td>
                    <td>{{ allocation }}%</td>
                </tr>
                {% endfor %}
            </table>

            <!-- Display strategy description -->
            <p><strong>Strategy:</strong> {{ strategy['strategy'] }}</p>

            <!-- Embed the generated pie chart -->
            <h3>Investment Allocation</h3>
            <img src="data:image/png;base64,{{ pie_chart }}" alt="Investment Allocation Pie Chart">
        </section>
    </div>
</body>
</html>
